@model Case.Application.Features.Case.Query.GetCaseById.GetCaseByIdQueryResponse

@using Case.Domain.Enum 

@if (Model == null)
{
    <div class="alert alert-danger">Case not found.</div>
}
else
{
    <div class="card">
        <div class "card-header">
            <h4>Case Details</h4>
        </div>
        <div class="card-body">
            <p><strong>Case Name:</strong> @Model.CaseName</p>
            
            <p><strong>Case Type:</strong> @Model.CaseType.ToString()</p>
            
            <p><strong>Description:</strong></p>
            @if (!string.IsNullOrWhiteSpace(Model.Description))
            {
                <div class="alert alert-info">@Model.Description</div>
            }
            else
            {
                <p class="text-muted">No description provided.</p>
            }

            <p><strong>Status:</strong> @((CaseStatusEnum)Model.StatusId)</p>

            <p><strong>Due Date:</strong> @Model.DueDate.ToString("yyyy-MM-dd")</p>

            <p><strong>Designer:</strong> @(ViewBag.DesignerName?.ToString() ?? "Not assigned")</p>
            @if (!string.IsNullOrEmpty(ViewBag.Model3DUrl))
            {
                <h5>3D Model:</h5>
                <div id="viewer-@Model.Id" style="width:1000px;height:600px"
                     data-model-url="@ViewBag.Model3DUrl"></div>
            }


        </div>
        <div class="card-footer">
            <button type="button" class="btn btn-secondary" onclick="window.history.back()">Back to Cases</button>
        </div>
    </div>
}