<style>
    .nav-user-dropdown {
        position: relative;
        cursor: pointer;
    }

    .nav-user-img {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 2px solid white;
        object-fit: cover;
    }

    .nav-user-menu {
        position: absolute;
        right: 0;
        top: 52px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        min-width: 160px;
        display: none;
        z-index: 9999;
    }

        .nav-user-menu a,
        .nav-user-menu button {
            display: block;
            padding: 10px 18px;
            color: #333;
            text-decoration: none;
            font-size: 15px;
        }

            .nav-user-menu a:hover,
            .nav-user-menu button:hover {
                background: #f5f5f5;
            }

    .logout-btn {
        background: none;
        border: none;
        width: 100%;
        text-align: left;
        padding: 10px 18px;
        cursor: pointer;
        font-size: 15px;
    }

</style>



<nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-primary border-bottom box-shadow mb-3 " >
    <button class="btn btn-primary d-lg-none" id="toggleSidebar">
        ☰
    </button>

    <div class="container-fluid">
        <a class="navbar-brand text-white" asp-area="" asp-controller="Home" asp-action="Index">Dental Design</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar"
                aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNavbar">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link text-white" asp-controller="Home" asp-action="Index">Home</a>
                </li>
            </ul>

            <!-- User Icon Dropdown (Bootstrap 5) -->
            <div class="dropdown ms-auto">
                <a class="nav-link  d-flex align-items-center text-white" href="#" id="navbarUserDropdown" role="button"
                   data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="https://i.pravatar.cc/60" alt="user" class="rounded-circle" style="width:40px; height:40px; object-fit:cover; border:2px solid #fff;">
                </a>

                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarUserDropdown">
                    <li><a class="dropdown-item" href="/Account/Profile">Profile</a></li>
                    <li><a class="dropdown-item" href="/Account/Settings">Settings</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li class="nav-item ms-auto">
                        <a class="nav-link text-danger" href="/Account/Logout">
                            <i class="bi bi-box-arrow-right"></i> 
                            Logout
                        </a>
                    </li>
                </ul>
            </div>

        </div>

    </div>
</nav>

<script>
        document.getElementById("logoutBtn")?.addEventListener("click", () => {
        localStorage.removeItem("token");    
        window.location.href = "/Account/Logout"; 
    });
</script>